{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\r\n\r\n// Функція для вставки HTML-контенту\r\nconst insertHTML = (parent, content, position = 'beforeend') => {\r\n  parent.insertAdjacentHTML(position, content);\r\n};\r\n\r\n// Функція для очищення вмісту елемента\r\nconst clearHTML = node => {\r\n  node.innerHTML = '';\r\n};\r\n\r\n// Функція для відображення елементів галереї\r\nconst renderGalleryItem = (node, images) => {\r\n  const content = images\r\n    .map(\r\n      image => `\r\n    <li class=\"gallery-item\">\r\n      <a href=\"${image.largeImageURL}\">\r\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\r\n      </a>\r\n      <div class=\"gallery-item-info\">\r\n        <div>\r\n          <b>Likes</b>\r\n          ${image.likes}\r\n        </div>\r\n        <div>\r\n          <b>Views</b>\r\n          ${image.views}\r\n        </div>\r\n        <div>\r\n          <b>Comments</b>\r\n          ${image.comments}\r\n        </div>\r\n        <div>\r\n          <b>Downloads</b>\r\n          ${image.downloads}\r\n        </div>\r\n      </div>\r\n    </li>\r\n  `\r\n    )\r\n    .join('');\r\n\r\n  insertHTML(node, content);\r\n};\r\n\r\n// Функція для відображення елементів\r\nexport const displayImages = (node, images) => {\r\n  clearHTML(node);\r\n\r\n  if (images && images.length) {\r\n    renderGalleryItem(node, images);\r\n  }\r\n};\r\n\r\n// Функція для відображення індикатора завантаження\r\nexport const showLoadingIndicator = node => {\r\n  clearHTML(node);\r\n\r\n  const content = `\r\n    <div class=\"loading\">Loading images, please wait...</div>\r\n    <span class=\"loader\"></span>\r\n  `;\r\n\r\n  insertHTML(node, content);\r\n};\r\n","import iziToast from 'izitoast';\r\n\r\nconst API_KEY = '45273601-269fa7243c6da01438f09c62a';\r\n\r\nexport const getImagesFromAPI = searchQuery => {\r\n  const requestQuery = `key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal`;\r\n\r\n  return fetch(`https://pixabay.com/api?${requestQuery}`, {\r\n    referrerPolicy: 'unsafe-url',\r\n  })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      throw new Error(response.statusText);\r\n    })\r\n    .then(data => {\r\n      return data.hits;\r\n    })\r\n    .catch(() => {\r\n      iziToast.error('Error while fetching images. Please try again!');\r\n    });\r\n};\r\n","import iziToast from 'izitoast';\r\nimport SimpleLightbox from 'simplelightbox';\r\n\r\nimport { displayImages, showLoadingIndicator } from './js/render-functions.js';\r\nimport { getImagesFromAPI } from './js/pixabay-api.js';\r\n\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\n\r\niziToast.settings({\r\n  position: 'topRight',\r\n  timeout: 3000,\r\n});\r\n\r\n// Функція для обробки форми пошуку\r\nconst handleSearchSubmit = (event, form, galleryContainer, gallery) => {\r\n  event.preventDefault();\r\n  const query = form.elements.search.value.trim();\r\n\r\n  // Якщо запит не порожній\r\n  if (query) {\r\n    showLoadingIndicator(galleryContainer); // Показуємо індикатор завантаження\r\n\r\n    // Отримуємо зображення з API\r\n    getImagesFromAPI(query).then(images => {\r\n      displayImages(galleryContainer, images); // Відображаємо зображення\r\n      gallery.refresh(); // Оновлюємо галерею\r\n\r\n      // Якщо зображень немає\r\n      if (!images.length) {\r\n        iziToast.error({\r\n          title: '❌ Error',\r\n          message:\r\n            'Sorry, there are no images matching your search query. Please try again!',\r\n        });\r\n      }\r\n    });\r\n  } else {\r\n    iziToast.warning({\r\n      title: '⚠️ Warning',\r\n      message: 'Please enter a search query!',\r\n    });\r\n  }\r\n\r\n  form.reset(); // Очищаємо форму\r\n};\r\n\r\n// Ініціалізація після завантаження сторінки\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const root = document.getElementById('root');\r\n\r\n  // Рендеринг елементів\r\n  const form = document.querySelector('#search-form');\r\n  const galleryContainer = document.querySelector('#gallery');\r\n\r\n  const gallery = new SimpleLightbox('#gallery a', {\r\n    captionDelay: 250,\r\n    captionsData: 'alt',\r\n  });\r\n\r\n  form.addEventListener('submit', event => {\r\n    handleSearchSubmit(event, form, galleryContainer, gallery);\r\n  });\r\n});\r\n"],"names":["insertHTML","parent","content","position","clearHTML","node","renderGalleryItem","images","image","displayImages","showLoadingIndicator","API_KEY","getImagesFromAPI","searchQuery","requestQuery","response","data","iziToast","handleSearchSubmit","event","form","galleryContainer","gallery","query","SimpleLightbox"],"mappings":"wvBAGA,MAAMA,EAAa,CAACC,EAAQC,EAASC,EAAW,cAAgB,CAC9DF,EAAO,mBAAmBE,EAAUD,CAAO,CAC7C,EAGME,EAAYC,GAAQ,CACxBA,EAAK,UAAY,EACnB,EAGMC,EAAoB,CAACD,EAAME,IAAW,CAC1C,MAAML,EAAUK,EACb,IACCC,GAAS;AAAA;AAAA,iBAEEA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,YAK9CA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,YAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,YAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,YAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,GAKtB,EACA,KAAK,EAAE,EAEVR,EAAWK,EAAMH,CAAO,CAC1B,EAGaO,EAAgB,CAACJ,EAAME,IAAW,CAC7CH,EAAUC,CAAI,EAEVE,GAAUA,EAAO,QACnBD,EAAkBD,EAAME,CAAM,CAElC,EAGaG,EAAuBL,GAAQ,CAC1CD,EAAUC,CAAI,EAOdL,EAAWK,EALK;AAAA;AAAA;AAAA,GAKQ,CAC1B,EChEMM,EAAU,qCAEHC,EAAmBC,GAAe,CAC7C,MAAMC,EAAe,OAAOH,CAAO,MAAME,CAAW,2CAEpD,OAAO,MAAM,2BAA2BC,CAAY,GAAI,CACtD,eAAgB,YACpB,CAAG,EACE,KAAKC,GAAY,CAChB,GAAIA,EAAS,GACX,OAAOA,EAAS,OAElB,MAAM,IAAI,MAAMA,EAAS,UAAU,CACzC,CAAK,EACA,KAAKC,GACGA,EAAK,IACb,EACA,MAAM,IAAM,CACXC,EAAS,MAAM,gDAAgD,CACrE,CAAK,CACL,ECbAA,EAAS,SAAS,CAChB,SAAU,WACV,QAAS,GACX,CAAC,EAGD,MAAMC,EAAqB,CAACC,EAAOC,EAAMC,EAAkBC,IAAY,CACrEH,EAAM,eAAc,EACpB,MAAMI,EAAQH,EAAK,SAAS,OAAO,MAAM,OAGrCG,GACFb,EAAqBW,CAAgB,EAGrCT,EAAiBW,CAAK,EAAE,KAAKhB,GAAU,CACrCE,EAAcY,EAAkBd,CAAM,EACtCe,EAAQ,QAAO,EAGVf,EAAO,QACVU,EAAS,MAAM,CACb,MAAO,UACP,QACE,0EACZ,CAAS,CAET,CAAK,GAEDA,EAAS,QAAQ,CACf,MAAO,aACP,QAAS,8BACf,CAAK,EAGHG,EAAK,MAAK,CACZ,EAGA,SAAS,iBAAiB,mBAAoB,IAAM,CACrC,SAAS,eAAe,MAAM,EAG3C,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAmB,SAAS,cAAc,UAAU,EAEpDC,EAAU,IAAIE,EAAe,aAAc,CAC/C,aAAc,IACd,aAAc,KAClB,CAAG,EAEDJ,EAAK,iBAAiB,SAAUD,GAAS,CACvCD,EAAmBC,EAAOC,EAAMC,EAAkBC,CAAO,CAC7D,CAAG,CACH,CAAC"}