{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\r\n\r\nconst renderHTMLElement = (node, content, position = 'beforeend') => {\r\n  node.insertAdjacentHTML(position, content);\r\n};\r\n\r\nconst removeInnerHTMLElement = node => {\r\n  node.innerHTML = '';\r\n};\r\n\r\nexport const renderSearchFormElement = node => {\r\n  const content = `\r\n    <form class=\"search-form\" id=\"search-form\">\r\n      <input\r\n        type=\"text\"\r\n        name=\"search\"\r\n        autocomplete=\"off\"\r\n        placeholder=\"Search images...\"\r\n      />\r\n      <button type=\"submit\">Search</button>\r\n    </form>\r\n  `;\r\n\r\n  renderHTMLElement(node, content);\r\n};\r\n\r\nexport const renderGallery = node => {\r\n  const content = `<div class=\"gallery\" id=\"gallery\"></div>`;\r\n\r\n  renderHTMLElement(node, content);\r\n};\r\n\r\nexport const renderGalleryItem = (node, images) => {\r\n  const content = images\r\n    .map(\r\n      image => `\r\n    <div class=\"gallery-item\">\r\n      <a href=\"${image.largeImageURL}\">\r\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\r\n      </a>\r\n      <div class=\"gallery-item-info\">\r\n        <div>\r\n          <b>Likes</b>\r\n          ${image.likes}\r\n        </div>\r\n        <div>\r\n          <b>Views</b>\r\n          ${image.views}\r\n        </div>\r\n        <div>\r\n          <b>Comments</b>\r\n          ${image.comments}\r\n        </div>\r\n        <div>\r\n          <b>Downloads</b>\r\n          ${image.downloads}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `\r\n    )\r\n    .join('');\r\n\r\n  renderHTMLElement(node, content);\r\n};\r\n\r\nexport const renderImagesElement = (node, images) => {\r\n  removeInnerHTMLElement(node);\r\n\r\n  if (images && images.length) {\r\n    renderGalleryItem(node, images);\r\n  }\r\n};\r\n\r\nexport const renderLoadingElement = node => {\r\n  removeInnerHTMLElement(node);\r\n\r\n  const content = `\r\n    <div class=\"loading\">Loading images, please wait...</div>\r\n    <span class=\"loader\"></span>\r\n  `;\r\n\r\n  renderHTMLElement(node, content);\r\n};\r\n","import iziToast from 'izitoast';\r\n\r\nconst API_KEY = '45273601-269fa7243c6da01438f09c62a';\r\n\r\nexport const getImagesFromAPI = searchQuery => {\r\n  const requestQuery = `key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal`;\r\n\r\n  return fetch(`https://pixabay.com/api?${requestQuery}`, {\r\n    referrerPolicy: 'unsafe-url',\r\n  })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      throw new Error(response.statusText);\r\n    })\r\n    .then(data => {\r\n      return data.hits;\r\n    })\r\n    .catch(() => {\r\n      iziToast.error('Error while fetching images. Please try again!');\r\n    });\r\n};\r\n","import iziToast from 'izitoast';\r\nimport SimpleLightbox from 'simplelightbox';\r\n\r\nimport {\r\n  renderSearchFormElement,\r\n  renderImagesElement,\r\n  renderGallery,\r\n  renderLoadingElement,\r\n} from './js/render-functions.js';\r\nimport { getImagesFromAPI } from './js/pixabay-api.js';\r\n\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\n\r\niziToast.settings({\r\n  position: 'topRight',\r\n  timeout: 3000,\r\n});\r\n\r\nconst handleSearchSubmit = (event, form, galleryContainer, gallery) => {\r\n  event.preventDefault();\r\n  const query = form.elements.search.value.trim();\r\n\r\n  if (query) {\r\n    renderLoadingElement(galleryContainer);\r\n\r\n    getImagesFromAPI(query).then(images => {\r\n      renderImagesElement(galleryContainer, images);\r\n      gallery.refresh();\r\n\r\n      // Якщо зображень немає\r\n      if (!images.length) {\r\n        iziToast.error({\r\n          title: '❌ Error',\r\n          message:\r\n            'Sorry, there are no images matching your search query. Please try again!',\r\n        });\r\n      }\r\n    });\r\n  } else {\r\n    iziToast.warning({\r\n      title: '⚠️ Warning',\r\n      message: 'Please enter a search query!',\r\n    });\r\n  }\r\n\r\n  form.reset();\r\n};\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const root = document.getElementById('root');\r\n\r\n  renderSearchFormElement(root);\r\n  renderGallery(root);\r\n\r\n  const form = document.querySelector('#search-form');\r\n  const galleryContainer = document.querySelector('#gallery');\r\n\r\n  const gallery = new SimpleLightbox('#gallery a', {\r\n    captionDelay: 250,\r\n    captionsData: 'alt',\r\n  });\r\n\r\n  form.addEventListener('submit', event => {\r\n    handleSearchSubmit(event, form, galleryContainer, gallery);\r\n  });\r\n});\r\n"],"names":["renderHTMLElement","node","content","position","removeInnerHTMLElement","renderSearchFormElement","renderGallery","renderGalleryItem","images","image","renderImagesElement","renderLoadingElement","API_KEY","getImagesFromAPI","searchQuery","requestQuery","response","data","iziToast","handleSearchSubmit","event","form","galleryContainer","gallery","query","root","SimpleLightbox"],"mappings":"wvBAEA,MAAMA,EAAoB,CAACC,EAAMC,EAASC,EAAW,cAAgB,CACnEF,EAAK,mBAAmBE,EAAUD,CAAO,CAC3C,EAEME,EAAyBH,GAAQ,CACrCA,EAAK,UAAY,EACnB,EAEaI,EAA0BJ,GAAQ,CAa7CD,EAAkBC,EAZF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAYe,CACjC,EAEaK,EAAgBL,GAAQ,CAGnCD,EAAkBC,EAFF,0CAEe,CACjC,EAEaM,EAAoB,CAACN,EAAMO,IAAW,CACjD,MAAMN,EAAUM,EACb,IACCC,GAAS;AAAA;AAAA,iBAEEA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,YAK9CA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,YAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,YAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,YAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,GAKtB,EACA,KAAK,EAAE,EAEVT,EAAkBC,EAAMC,CAAO,CACjC,EAEaQ,EAAsB,CAACT,EAAMO,IAAW,CACnDJ,EAAuBH,CAAI,EAEvBO,GAAUA,EAAO,QACnBD,EAAkBN,EAAMO,CAAM,CAElC,EAEaG,EAAuBV,GAAQ,CAC1CG,EAAuBH,CAAI,EAO3BD,EAAkBC,EALF;AAAA;AAAA;AAAA,GAKe,CACjC,ECjFMW,EAAU,qCAEHC,EAAmBC,GAAe,CAC7C,MAAMC,EAAe,OAAOH,CAAO,MAAME,CAAW,2CAEpD,OAAO,MAAM,2BAA2BC,CAAY,GAAI,CACtD,eAAgB,YACpB,CAAG,EACE,KAAKC,GAAY,CAChB,GAAIA,EAAS,GACX,OAAOA,EAAS,OAElB,MAAM,IAAI,MAAMA,EAAS,UAAU,CACzC,CAAK,EACA,KAAKC,GACGA,EAAK,IACb,EACA,MAAM,IAAM,CACXC,EAAS,MAAM,gDAAgD,CACrE,CAAK,CACL,ECRAA,EAAS,SAAS,CAChB,SAAU,WACV,QAAS,GACX,CAAC,EAED,MAAMC,EAAqB,CAACC,EAAOC,EAAMC,EAAkBC,IAAY,CACrEH,EAAM,eAAc,EACpB,MAAMI,EAAQH,EAAK,SAAS,OAAO,MAAM,OAErCG,GACFb,EAAqBW,CAAgB,EAErCT,EAAiBW,CAAK,EAAE,KAAKhB,GAAU,CACrCE,EAAoBY,EAAkBd,CAAM,EAC5Ce,EAAQ,QAAO,EAGVf,EAAO,QACVU,EAAS,MAAM,CACb,MAAO,UACP,QACE,0EACZ,CAAS,CAET,CAAK,GAEDA,EAAS,QAAQ,CACf,MAAO,aACP,QAAS,8BACf,CAAK,EAGHG,EAAK,MAAK,CACZ,EAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMI,EAAO,SAAS,eAAe,MAAM,EAE3CpB,EAAwBoB,CAAI,EAC5BnB,EAAcmB,CAAI,EAElB,MAAMJ,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAmB,SAAS,cAAc,UAAU,EAEpDC,EAAU,IAAIG,EAAe,aAAc,CAC/C,aAAc,IACd,aAAc,KAClB,CAAG,EAEDL,EAAK,iBAAiB,SAAUD,GAAS,CACvCD,EAAmBC,EAAOC,EAAMC,EAAkBC,CAAO,CAC7D,CAAG,CACH,CAAC"}